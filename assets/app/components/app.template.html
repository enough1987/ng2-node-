
<div class="container c-main-admin-block">

    <div class="col-xs-12 col-sm-3">
        <ul class="">
            <li (click)="set_current_view('components')"
                [class.c-choosen-item]=" choosen_menu( current_view, 'components' ) "
                class="c-admin-component-item">
                components</li>

        </ul>
    </div> 

    <div *ngIf=" current_view == 'components' " class="col-xs-12 col-sm-9">
            <div class="container-fluid" >       

                    <ul class="row c-admin-component-menu">
                        
                        <li 
(click)="set_components_current_view('all')"
[class.c-choosen-item]=" choosen_menu( components_current_view, 'all' ) "
                        class="col-xs-12 col-sm-2 col-sm-offset-6 c-admin-component-item">
                            all</li>
                        <li 
(click)="set_components_current_view('mutable')"                        
[class.c-choosen-item]=" choosen_menu( components_current_view, 'mutable' ) "                        
                        class="col-xs-12 col-sm-2 c-admin-component-item">
                            mutable</li>
                        <li
(click)="set_components_current_view('immutable')"                        
[class.c-choosen-item]=" choosen_menu( components_current_view, 'immutable' ) "
                        class="col-xs-12 col-sm-2 c-admin-component-item">
                            immutable</li>

                    </ul>

            </div>

            <div class="row"
                *ngFor=" let component of components " > 

                <label class="col-xs-12 col-sm-3 t-a-center-md"> 
                    Name : {{ component.name }} 
                </label>
                <label class="col-xs-12 col-sm-3 t-a-center-md"> 
                    Type : {{ component.type || component.mutability }} 
                </label>
                <label class="col-xs-12 col-sm-3 t-a-center-md">
                    Group : {{ component.group || 'none' }} 
                </label>
                <input type="button" class="col-xs-12 col-sm-3 btn btn-default" value="edit"
                       (click)="edit_fields_component(component)" />  

            </div>
    </div> 

</div> 


<div class="logik-block" style="display:none;" >




        <p>
            <label class="admin-header"> Type of component </label> <br />
            <label>
            Mutable :  
                <input type="radio" 
                    value="mutable" 
                    name="mutability"
                    checked="checked"
                    (click)="set_new_component_mutability('mutable')"
                />
            </label>
            <label>
            Immutable :    
                <input type="radio" 
                    value="immutable"
                    name="mutability"
                    (click)="set_new_component_mutability('immutable')"
                />
            </label>
        </p>


</div>

<div class="logik-block" 
    *ngIf=" new_component.mutability == 'mutable' " >

    <div>
        <input type="text" placeholder="name" 
            [(ngModel)]="new_component.name" 
        />
         <input type="button" value="add new component" 
            (click)="create_component()"    
        />
    </div>
 
    <div 
    *ngFor=" let component of components " > 

        <div 
            *ngIf="component.mutability == 'mutable' " >
            <label> {{ component.name }}</label>
            <br />
            <input type="text" placeholder="new name"
                [(ngModel)]="component.new_name" />  
            <input type="button" value="change"
                (click)="change_component(component)" />
            <br />
            <input type="button" value="copy"
                (click)="copy_component(component)" />
            <input type="button" value="delete"
                (click)="delete_component(component._id)" />  
            <input type="button" value="edit fields"
                (click)="edit_fields_component(component)" />        
        </div>
 
        <div *ngIf="show_fields_component(component)">
                <input class="m-left-field" type="text" placeholder="name" 
                    [(ngModel)]="new_field.name" />
                <select [(ngModel)]="new_field.type">
                    <option value="string" selected >String</option>
                    <option value="number">Number</option>
                    <option value="image">Image</option>
                    <option value="component">Component</option>
                </select>
                <input type="button" value="add" 
                    (click)="add_field(component, new_field)" />   

                <p>Components : </p>
                <div class="m-left-field"
                    *ngFor=" let field of component?.body " >

                     <div *ngIf=" field.type == 'component' " >
                        Name : {{ field.name }}
                        <input type="text" placeholder="new name" 
                            [(ngModel)]="field.edit_name" 
                        />
                        <input type="button" value="change"
                            (click)="change_field({ component: component, field: field, type: 'component' })" />
                         <input type="button" value="copy"
                            (click)="copy_field({ component: component, field: field, type: 'component' })" />
                         <input type="button" value="delete"
                            (click)="delete_field({ component: component, field: field, type: 'component' })" /> 
                         <br *ngIf="value_assignment(field)" />
                         <input type="text" 
                            [(ngModel)]="field.edit_value" /> 
                     </div>
                </div>                                 

                <p>Strings : </p>
                <div class="m-left-field"
                    *ngFor=" let field of component?.body " >

                     <div *ngIf=" field.type == 'string' " >
                        Name : {{ field.name }}
                        <input type="text" placeholder="new name" 
                            [(ngModel)]="field.edit_name" 
                        />
                        <input type="button" value="change"
                            (click)="change_field({ component: component, field: field, type: 'string' })" />
                         <input type="button" value="copy"
                            (click)="copy_field({ component: component, field: field, type: 'string' })" />
                         <input type="button" value="delete"
                            (click)="delete_field({ component: component, field: field, type: 'string' })" /> 
                         <br *ngIf="value_assignment(field)" />
                        <textarea cols="100" rows="3"
                            [(ngModel)]="field.edit_value" >
                        </textarea> 
                     </div>
                </div>

                <p>Numbers : </p>
                <div class="m-left-field"
                    *ngFor=" let field of component?.body " >

                     <div *ngIf=" field.type == 'number' " >
                        Name : {{ field.name }}
                        <input type="text" placeholder="new name" 
                            [(ngModel)]="field.edit_name" 
                        />
                        <input type="button" value="change"
                            (click)="change_field({ component: component, field: field, type: 'number' })" />
                         <input type="button" value="copy"
                            (click)="copy_field({ component: component, field: field, type: 'number' })" />
                         <input type="button" value="delete"
                            (click)="delete_field({ component: component, field: field, type: 'number' })" /> 
                         <br *ngIf="value_assignment(field)" />
                         <input type="number" 
                            [(ngModel)]="field.edit_value" />
                     </div>
                </div>


        </div>

    </div>

</div>

<div class="logik-block" 
    *ngIf=" new_component.mutability == 'immutable' " >

    <div>
        <input type="text" placeholder="name" 
            [(ngModel)]="new_component.name" 
        />
        <input type="text" placeholder="group" 
            [(ngModel)]="new_component.group" 
        />
         <input type="button" value="add new component" 
            (click)="create_component()"    
        />
    </div>

</div>
