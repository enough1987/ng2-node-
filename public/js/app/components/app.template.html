
<div class="logik-block" >


        <p>
            <label class="admin-header"> Type of component </label> <br />
            <label>
            Mutable :  
                <input type="radio" 
                    value="mutable" 
                    name="mutability"
                    (click)="set_new_component_mutability('mutable')"
                />
            </label>
            <label>
            Immutable :    
                <input type="radio" 
                    value="immutable"
                    name="mutability"
                    (click)="set_new_component_mutability('immutable')"
                />
            </label>
        </p>


</div>

<div class="logik-block" 
    *ngIf=" new_component.mutability == 'mutable' " >

    <div>
        <input type="text" placeholder="name" 
            [(ngModel)]="new_component.name" 
        />
         <input type="button" value="add new component" 
            (click)="create_component()"    
        />
    </div>
 
    <div 
    *ngFor=" let component of components " > 

        <div 
            *ngIf="component.mutability == 'mutable' " >
            <label> {{ component.name }}</label>
            <br />
            <input type="text" placeholder="new name"
                [(ngModel)]="component.new_name" />  
            <input type="button" value="change"
                (click)="change_component(component)" />
            <br />
            <input type="button" value="copy"
                (click)="copy_component(component)" />
            <input type="button" value="delete"
                (click)="delete_component(component._id)" />  
            <input type="button" value="edit fields"
                (click)="edit_fields_component(component)" />        
        </div>
 
        <div *ngIf="show_fields_component(component)">
                <input class="m-left-field" type="text" placeholder="name" 
                    [(ngModel)]="new_field.name" />
                <select [(ngModel)]="new_field.type">
                    <option value="string" selected >String</option>
                    <option value="number">Number</option>
                    <option value="image">Image</option>
                    <option value="component">Component</option>
                </select>
                <input type="button" value="add" 
                    (click)="add_field(component, new_field)" />   

                <p>Components : </p>
                <div class="m-left-field"
                    *ngFor=" let field of component?.body " >

                     <div *ngIf=" field.type == 'component' " >
                        Name : {{ field.name }}
                        <input type="text" placeholder="new name" 
                            [(ngModel)]="field.edit_name" 
                        />
                        <input type="button" value="change"
                            (click)="change_field({ component: component, field: field, type: 'component' })" />
                         <input type="button" value="copy"
                            (click)="copy_field({ component: component, field: field, type: 'component' })" />
                         <input type="button" value="delete"
                            (click)="delete_field({ component: component, field: field, type: 'component' })" /> 
                         <br *ngIf="value_assignment(field)" />
                         <input type="text" 
                            [(ngModel)]="field.edit_value" /> 
                     </div>
                </div>                                 

                <p>Strings : </p>
                <div class="m-left-field"
                    *ngFor=" let field of component?.body " >

                     <div *ngIf=" field.type == 'string' " >
                        Name : {{ field.name }}
                        <input type="text" placeholder="new name" 
                            [(ngModel)]="field.edit_name" 
                        />
                        <input type="button" value="change"
                            (click)="change_field({ component: component, field: field, type: 'string' })" />
                         <input type="button" value="copy"
                            (click)="copy_field({ component: component, field: field, type: 'string' })" />
                         <input type="button" value="delete"
                            (click)="delete_field({ component: component, field: field, type: 'string' })" /> 
                         <br *ngIf="value_assignment(field)" />
                        <textarea cols="100" rows="3"
                            [(ngModel)]="field.edit_value" >
                        </textarea> 
                     </div>
                </div>

                <p>Numbers : </p>
                <div class="m-left-field"
                    *ngFor=" let field of component?.body " >

                     <div *ngIf=" field.type == 'number' " >
                        Name : {{ field.name }}
                        <input type="text" placeholder="new name" 
                            [(ngModel)]="field.edit_name" 
                        />
                        <input type="button" value="change"
                            (click)="change_field({ component: component, field: field, type: 'number' })" />
                         <input type="button" value="copy"
                            (click)="copy_field({ component: component, field: field, type: 'number' })" />
                         <input type="button" value="delete"
                            (click)="delete_field({ component: component, field: field, type: 'number' })" /> 
                         <br *ngIf="value_assignment(field)" />
                         <input type="number" 
                            [(ngModel)]="field.edit_value" />
                     </div>
                </div>


        </div>

    </div>

</div>
